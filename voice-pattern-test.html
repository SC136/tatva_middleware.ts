<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Pattern Tester</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }
        .test-item.fail {
            border-left-color: #f44336;
        }
        .pattern {
            font-family: monospace;
            background: #f0f0f0;
            padding: 5px;
            border-radius: 3px;
        }
        .result {
            margin-top: 10px;
            font-weight: bold;
        }
        .result.pass { color: #4CAF50; }
        .result.fail { color: #f44336; }
        h1 { color: #333; }
        .info { background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 20px 0; }
    </style>
</head>
<body>
    <h1>üé§ Voice Pattern Tester</h1>
    <div class="info">
        <strong>Testing Simple Pattern:</strong> <code>/^(?:rupees? |rs\.? |‚Çπ)?(\d+)\s*(?:rupees?|rs\.?|‚Çπ)?\s+(.+)$/i</code>
    </div>

    <div id="tests"></div>

    <script>
        // Simple pattern from voiceAssistant.ts
        const simplePattern = /^(?:rupees? |rs\.? |‚Çπ)?(\d+)\s*(?:rupees?|rs\.?|‚Çπ)?\s+(.+)$/i;

        const testCases = [
            { input: "50 rupees milk", expected: { amount: "50", description: "milk" } },
            { input: "50 milk", expected: { amount: "50", description: "milk" } },
            { input: "rupees 50 milk", expected: { amount: "50", description: "milk" } },
            { input: "100 bread", expected: { amount: "100", description: "bread" } },
            { input: "5000 sales", expected: { amount: "5000", description: "sales" } },
            { input: "‚Çπ 50 milk", expected: { amount: "50", description: "milk" } },
            { input: "rs 50 milk", expected: { amount: "50", description: "milk" } },
            { input: "50 rs milk", expected: { amount: "50", description: "milk" } },
            { input: "200 groceries for the week", expected: { amount: "200", description: "groceries for the week" } },
        ];

        const testsDiv = document.getElementById('tests');

        testCases.forEach(testCase => {
            const match = testCase.input.match(simplePattern);
            const passed = match && 
                          match[1] === testCase.expected.amount && 
                          match[2] === testCase.expected.description;

            const div = document.createElement('div');
            div.className = `test-item ${passed ? 'pass' : 'fail'}`;
            
            let html = `
                <div><strong>Input:</strong> <span class="pattern">${testCase.input}</span></div>
                <div><strong>Expected:</strong> Amount: ${testCase.expected.amount}, Description: ${testCase.expected.description}</div>
            `;

            if (match) {
                html += `<div><strong>Got:</strong> Amount: ${match[1]}, Description: ${match[2]}</div>`;
            } else {
                html += `<div><strong>Got:</strong> No match</div>`;
            }

            html += `<div class="result ${passed ? 'pass' : 'fail'}">${passed ? '‚úÖ PASS' : '‚ùå FAIL'}</div>`;
            
            div.innerHTML = html;
            testsDiv.appendChild(div);
        });

        // Summary
        const passCount = testCases.filter(tc => {
            const match = tc.input.match(simplePattern);
            return match && match[1] === tc.expected.amount && match[2] === tc.expected.description;
        }).length;

        const summaryDiv = document.createElement('div');
        summaryDiv.className = 'info';
        summaryDiv.style.marginTop = '30px';
        summaryDiv.innerHTML = `<h2>Results: ${passCount}/${testCases.length} tests passed</h2>`;
        testsDiv.appendChild(summaryDiv);

        console.log('All test cases:', testCases);
        console.log(`Results: ${passCount}/${testCases.length} passed`);
    </script>
</body>
</html>
